<!DOCTYPE html>
<html>
<body>

<h2>HTML Forms</h2>

<form>
	<label for="fname">Nombre:</label><br>
	<input type="text" id="fname" name="fname"><br>
	<label for="line">Linea:</label><br>
	<input type="number" id="line" name="line"><br><br>
	<label for="valor">Valor:</label><br>
	<input type="text" id="valor" name="valor"><br><br>
	<input type="submit" value="Validar">
</form> 

<%
if (servlet_request.query['fname']) and servlet_request.query['fname'] != "" and servlet_request.query['line']
	File.open(servlet_request.query['fname'], 'r+') do |file|
		lines = file.each_line.to_a
		lines[servlet_request.query['line'].to_i] = servlet_request.query['valor']
		file.rewind
 		lines.each { |element| file.puts(element) }
	end
end
%>

</body>
</html>
